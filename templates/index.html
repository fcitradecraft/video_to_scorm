<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Video to SCORM</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    {% with messages = get_flashed_messages() %}
    {% if messages %}
    <ul>
        {% for message in messages %}
        <li>{{ message }}</li>
        {% endfor %}
    </ul>
    {% endif %}
    {% endwith %}
    <form method="post" enctype="multipart/form-data">
        <input type="file" name="video" accept="video/mp4" required>
        <button type="submit">Upload</button>
    </form>

    <form action="{{ url_for('prepare') }}" method="post">
        <button type="submit" {% if not video_uploaded %}disabled{% endif %}>Prepare</button>
    </form>
    <form action="{{ url_for('quiz') }}" method="post">
        <button type="submit" {% if not prepared %}disabled{% endif %}>Quiz</button>
    </form>
    <form action="{{ url_for('build') }}" method="post">
        <input type="text" name="video_url" placeholder="Video URL" required>
        <input type="text" name="title" placeholder="Title" value="{{ title }}" required>
        <button type="submit" {% if not prepared %}disabled{% endif %}>Build</button>
    </form>
    <form action="{{ url_for('package') }}" method="post">
        <input type="text" name="title" placeholder="Title" value="{{ title }}" required>
        <button type="submit" {% if not built %}disabled{% endif %}>Package</button>
    </form>

    {% if zip_path %}
    <form action="{{ url_for('download') }}" method="get">
        <button type="submit">Download</button>
    </form>
    {% endif %}

    {% if logs %}
    <h2>Logs</h2>
    <pre>{{ logs }}</pre>
    {% endif %}
</body>
</html>
